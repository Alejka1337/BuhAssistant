# –°—Ç–∞—Ç—É—Å –∫—Ä–∞—É–ª–µ—Ä–æ–≤ –Ω–æ–≤–æ—Å—Ç–µ–π

## ‚úÖ –†–∞–±–æ—Ç–∞—é—â–∏–µ –∫—Ä–∞—É–ª–µ—Ä—ã:

### 1. Minfin.com.ua ‚≠ê
**–§–∞–π–ª**: `backend/app/services/minfin_crawler.py`  
**Endpoint**: `POST /api/news/crawl/minfin`  
**–°—Ç–∞—Ç—É—Å**: ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç –æ—Ç–ª–∏—á–Ω–æ

**–†–µ–∑—É–ª—å—Ç–∞—Ç—ã**:
- üì∞ –ü–∞—Ä—Å–∏—Ç: 200 –Ω–æ–≤–æ—Å—Ç–µ–π (—Å 2 —Å—Ç—Ä–∞–Ω–∏—Ü)
- ü§ñ OpenAI —Ñ–∏–ª—å—Ç—Ä—É–µ—Ç: 4 —Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω—ã—Ö (2%)
- üíæ –°–æ—Ö—Ä–∞–Ω—è–µ—Ç: 4 –Ω–æ–≤–æ—Å—Ç–∏ –≤ –ë–î

**–ü—Ä–∏–º–µ—Ä—ã –æ—Ç—Ñ–∏–ª—å—Ç—Ä–æ–≤–∞–Ω–Ω—ã—Ö –Ω–æ–≤–æ—Å—Ç–µ–π**:
1. –°—Ç–∞–≤–∫–∞ –≤–∏—â–∞, –ø–æ–¥–∞—Ç–∫—ñ–≤ –Ω–µ–º–∞—î: —â–æ —Ç–∞–∫–µ –æ–±–ª—ñ–≥–∞—Ü—ñ—ó (–ø–æ–¥–∞—Ç–∫–∏)
2. ¬´–ß–æ—Ä–Ω–∏–π¬ª —Å–ø–∏—Å–æ–∫ –±—ñ–∑–Ω–µ—Å—É –î–ü–° (–ø–æ–¥–∞—Ç–∫–∏)
3. –î–ü–° –ø–µ—Ä–µ–≤–∏–∫–æ–Ω–∞–ª–∞ –ø–ª–∞–Ω: 1 —Ç—Ä–ª–Ω –≥—Ä–Ω (–ø–æ–¥–∞—Ç–∫–∏)
4. Sense Bank + –ü–µ–Ω—Å—ñ–π–Ω–∏–π —Ñ–æ–Ω–¥ (–∑–∞–∫–æ–Ω–æ–¥–∞–≤—Å—Ç–≤–æ)

**–¶–µ–ª–µ–≤–∞—è –∞—É–¥–∏—Ç–æ—Ä–∏—è**: –§–û–ü, –Æ–û, –±—É—Ö–≥–∞–ª—Ç–µ—Ä–∏

---

### 2. Liga.net ‚≠ê
**–§–∞–π–ª**: `backend/app/services/liga_net_crawler.py`  
**Endpoint**: `POST /api/news/crawl/liga-net`  
**–°—Ç–∞—Ç—É—Å**: ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç –æ—Ç–ª–∏—á–Ω–æ

**–†–µ–∑—É–ª—å—Ç–∞—Ç—ã**:
- üì∞ –ü–∞—Ä—Å–∏—Ç: 55 –Ω–æ–≤–æ—Å—Ç–µ–π
- ü§ñ OpenAI —Ñ–∏–ª—å—Ç—Ä—É–µ—Ç: 5 —Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω—ã—Ö (9%)
- üíæ –°–æ—Ö—Ä–∞–Ω—è–µ—Ç: 5 –Ω–æ–≤–æ—Å—Ç–µ–π –≤ –ë–î

**–ö–∞—Ç–µ–≥–æ—Ä–∏–∏ –Ω–∞ liga.net**:
- –ë—ñ–∑–Ω–µ—Å: 15 –Ω–æ–≤–æ—Å—Ç–µ–π
- –ù–æ–≤–∏–Ω–∏: 25 –Ω–æ–≤–æ—Å—Ç–µ–π
- –§—ñ–Ω–∞–Ω—Å–∏: 6 –Ω–æ–≤–æ—Å—Ç–µ–π
- –ñ–∏—Ç—Ç—è: 2 –Ω–æ–≤–æ—Å—Ç–∏
- –¢–µ—Ö–Ω–æ–ª–æ–≥—ñ—ó: 2 –Ω–æ–≤–æ—Å—Ç–∏
- –ë–µ–∑ –∫–∞—Ç–µ–≥–æ—Ä—ñ—ó: 5 –Ω–æ–≤–æ—Å—Ç–µ–π

**–ü—Ä–∏–º–µ—Ä—ã –æ—Ç—Ñ—ñ–ª—å—Ç—Ä–æ–≤–∞–Ω–Ω—ã—Ö –Ω–æ–≤–æ—Å—Ç–µ–π**:
1. –£ –†–∞–¥—ñ –≥–æ—Ç—É—é—Ç—å –Ω–æ–≤—É —Ñ–æ—Ä–º—É–ª—É —Ä–æ–∑—Ä–∞—Ö—É–Ω–∫—É –º—ñ–Ω—ñ–º–∞–ª—å–Ω–æ—ó –∑–∞—Ä–ø–ª–∞—Ç–∏ (–∑–∞—Ä–ø–ª–∞—Ç–∞)
2. –ù–ë–£ –±—ñ–ª—å—à–µ –Ω–µ –æ–¥–Ω–æ—Å—Ç–∞–π–Ω–∏–π —â–æ–¥–æ –æ–±–ª—ñ–∫–æ–≤–æ—ó —Å—Ç–∞–≤–∫–∏ (—Ñ—ñ–Ω–∞–Ω—Å–∏)
3. –ó–∞–∫–æ–Ω –ø—Ä–æ –±—Ä–æ–Ω—é–≤–∞–Ω–Ω—è —á–æ–ª–æ–≤—ñ–∫—ñ–≤ (–∑–∞–∫–æ–Ω–æ–¥–∞–≤—Å—Ç–≤–æ)
4. –ë–ï–ë –ø—Ä–æ —Ä–æ–∑—Ç—Ä–∞—Ç—É –≥—Ä–æ—à–µ–π –Ñ–° (—Ñ—ñ–Ω–∞–Ω—Å–∏)
5. "–ó–∏–º–æ–≤–∞ —î–ü—ñ–¥—Ç—Ä–∏–º–∫–∞": –±–µ–∑–ø–ª–∞—Ç–Ω–∏–π –ø—Ä–æ—ó–∑–¥ (–∑–∞–∫–æ–Ω–æ–¥–∞–≤—Å—Ç–≤–æ)

**–¶–µ–ª–µ–≤–∞—è –∞—É–¥–∏—Ç–æ—Ä–∏—è**: –§–û–ü, –Æ–û, –±—É—Ö–≥–∞–ª—Ç–µ—Ä–∏

---

## ‚ö†Ô∏è –ß–∞—Å—Ç–∏—á–Ω–æ —Ä–∞–±–æ—Ç–∞—é—â–∏–µ:

### 3. Tax.gov.ua
**–§–∞–π–ª**: `backend/app/services/tax_gov_ua_crawler.py`  
**Endpoint**: `POST /api/news/crawl/tax-gov-ua`  
**–°—Ç–∞—Ç—É—Å**: ‚ö†Ô∏è –°–æ–∑–¥–∞–Ω, –Ω–æ –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω CDN (HTTP 403)

**–ü—Ä–æ–±–ª–µ–º–∞**: –°–∞–π—Ç –∑–∞—â–∏—â–µ–Ω Akamai CDN, –±–ª–æ–∫–∏—Ä—É–µ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –∑–∞–ø—Ä–æ—Å—ã

**–†–µ—à–µ–Ω–∏–µ –¥–ª—è production**:
- Playwright/Selenium (—ç–º—É–ª—è—Ü–∏—è –±—Ä–∞—É–∑–µ—Ä–∞)
- Proxy —Å–µ—Ä–≤–∏—Å (ScraperAPI)
- RSS Feed (–µ—Å–ª–∏ –¥–æ—Å—Ç—É–ø–µ–Ω)
- –û—Ñ–∏—Ü–∏–∞–ª—å–Ω—ã–π API (–∑–∞–ø—Ä–æ—Å–∏—Ç—å —É –î–ü–°)

**–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è**: `backend/docs/TAX_GOV_UA_CRAWLER_ISSUE.md`

---

## üìä –û–±—â–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞:

### –≠—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç—å OpenAI —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏:

| –ò—Å—Ç–æ—á–Ω–∏–∫ | –°–ø–∞—Ä—Å–µ–Ω–æ | –û—Ç—Ñ–∏–ª—å—Ç—Ä–æ–≤–∞–Ω–æ | % —Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω—ã—Ö |
|----------|----------|---------------|---------------|
| minfin.com.ua | 200 | 4 | 2% |
| liga.net | 55 | 5 | 9% |
| **–ò—Ç–æ–≥–æ** | **255** | **9** | **3.5%** |

### –ö–∞—Ç–µ–≥–æ—Ä–∏–∏ –Ω–æ–≤–æ—Å—Ç–µ–π –ø–æ—Å–ª–µ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏:

- **–ø–æ–¥–∞—Ç–∫–∏**: 3 –Ω–æ–≤–æ—Å—Ç–∏ (minfin.com.ua)
- **–∑–∞–∫–æ–Ω–æ–¥–∞–≤—Å—Ç–≤–æ**: 3 –Ω–æ–≤–æ—Å—Ç–∏ (minfin + liga.net)
- **–∑–∞—Ä–ø–ª–∞—Ç–∞**: 1 –Ω–æ–≤–æ—Å—Ç—å (liga.net)
- **—Ñ—ñ–Ω–∞–Ω—Å–∏**: 1 –Ω–æ–≤–æ—Å—Ç—å (liga.net)
- **—ñ–Ω—à–µ**: 1 –Ω–æ–≤–æ—Å—Ç—å (liga.net)

### –¶–µ–ª–µ–≤–∞—è –∞—É–¥–∏—Ç–æ—Ä–∏—è:

- **–§–û–ü**: 6 –Ω–æ–≤–æ—Å—Ç–µ–π
- **–Æ–û**: 9 –Ω–æ–≤–æ—Å—Ç–µ–π (–≤—Å–µ)
- **–ë—É—Ö–≥–∞–ª—Ç–µ—Ä–∏**: 9 –Ω–æ–≤–æ—Å—Ç–µ–π (–≤—Å–µ)

---

## üöÄ API Endpoints:

### –ó–∞–ø—É—Å–∫ –∫—Ä–∞—É–ª–µ—Ä–æ–≤:
```bash
# Minfin
curl -X POST http://localhost:8000/api/news/crawl/minfin

# Liga.net
curl -X POST http://localhost:8000/api/news/crawl/liga-net

# Tax.gov.ua (–Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç –∏–∑-–∑–∞ CDN)
curl -X POST http://localhost:8000/api/news/crawl/tax-gov-ua
```

### –ü–æ–ª—É—á–µ–Ω–∏–µ –Ω–æ–≤–æ—Å—Ç–µ–π:
```bash
# –ü–æ—Å–ª–µ–¥–Ω–∏–µ 3 –Ω–æ–≤–æ—Å—Ç–∏
curl http://localhost:8000/api/news/?limit=3

# –ù–æ–≤–æ—Å—Ç–∏ –ø–æ –∏—Å—Ç–æ—á–Ω–∏–∫—É
curl "http://localhost:8000/api/news/?source=minfin.com.ua&limit=10"
curl "http://localhost:8000/api/news/?source=liga.net&limit=10"

# –ù–æ–≤–æ—Å—Ç–∏ –ø–æ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏
curl "http://localhost:8000/api/news/?category=–ø–æ–¥–∞—Ç–∫–∏&limit=10"

# –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞
curl http://localhost:8000/api/news/stats
```

---

## ‚öôÔ∏è –ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è (Celery):

### –¢–µ–∫—É—â–∏–π —Å—Ç–∞—Ç—É—Å:
- ‚úÖ Celery Worker –∑–∞–ø—É—â–µ–Ω
- ‚úÖ Celery Beat –∑–∞–ø—É—â–µ–Ω (–ø–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫)
- ‚úÖ Redis —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–∞–∫ –±—Ä–æ–∫–µ—Ä
- ‚è≥ –ó–∞–¥–∞—á–∏ –¥–ª—è minfin –∏ liga.net **–Ω—É–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å –≤ Celery**

### –ü–ª–∞–Ω–∏—Ä—É–µ–º–æ–µ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ:
- **Minfin crawler**: –∫–∞–∂–¥—ã–µ 2 —á–∞—Å–∞
- **Liga.net crawler**: –∫–∞–∂–¥—ã–µ 2 —á–∞—Å–∞
- **–ß–µ—Ä–µ–¥–æ–≤–∞–Ω–∏–µ**: –∑–∞–ø—É—Å–∫ —Å —Ä–∞–∑–Ω–∏—Ü–µ–π –≤ 1 —á–∞—Å

---

## üì± Frontend –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è:

### –ì–ª–∞–≤–Ω—ã–π —ç–∫—Ä–∞–Ω (`app/(tabs)/index.tsx`):
- ‚úÖ –û—Ç–æ–±—Ä–∞–∂–∞–µ—Ç –ø–æ—Å–ª–µ–¥–Ω–∏–µ 3 –Ω–æ–≤–æ—Å—Ç–∏
- ‚úÖ –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç –∏—Å—Ç–æ—á–Ω–∏–∫ (minfin.com.ua, liga.net)
- ‚úÖ –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç –∫–∞—Ç–µ–≥–æ—Ä–∏—é
- ‚úÖ –û–±—Ä–µ–∑–∞–µ—Ç –∑–∞–≥–æ–ª–æ–≤–æ–∫ –¥–æ 60 —Å–∏–º–≤–æ–ª–æ–≤
- ‚úÖ –ö–ª–∏–∫ –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç WebView —Å –ø–æ–ª–Ω–æ–π —Å—Ç–∞—Ç—å–µ–π

### API –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è (`constants/api.ts`):
```typescript
export const API_URL = 'http://localhost:8000';
export const API_ENDPOINTS = {
  NEWS: `${API_URL}/api/news/`,
  ...
};
```

---

## üéØ –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏:

### –î–ª—è MVP (—Å–µ–π—á–∞—Å):
1. ‚úÖ **–ì–æ—Ç–æ–≤–æ**: Minfin + Liga.net —Ä–∞–±–æ—Ç–∞—é—Ç –æ—Ç–ª–∏—á–Ω–æ
2. ‚úÖ **–ì–æ—Ç–æ–≤–æ**: OpenAI —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∞
3. ‚úÖ **–ì–æ—Ç–æ–≤–æ**: –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –Ω–∞ –≥–ª–∞–≤–Ω–æ–º —ç–∫—Ä–∞–Ω–µ
4. ‚è≥ **TODO**: –î–æ–±–∞–≤–∏—Ç—å –∫—Ä–∞—É–ª–µ—Ä—ã –≤ Celery tasks
5. ‚è∏Ô∏è **–û—Ç–ª–æ–∂–∏—Ç—å**: Tax.gov.ua –¥–æ production —Å Playwright

### –î–ª—è Production (–ø–æ—Ç–æ–º):
1. üîß –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å Playwright –≤–µ—Ä—Å–∏—é –¥–ª—è tax.gov.ua
2. üìä –î–æ–±–∞–≤–∏—Ç—å –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ —É—Å–ø–µ—à–Ω–æ—Å—Ç–∏ –ø–∞—Ä—Å–∏–Ω–≥–∞
3. üîÑ –ù–∞—Å—Ç—Ä–æ–∏—Ç—å retry –ª–æ–≥–∏–∫—É –ø—Ä–∏ –æ—à–∏–±–∫–∞—Ö
4. üìß –ó–∞–ø—Ä–æ—Å–∏—Ç—å –æ—Ñ–∏—Ü–∏–∞–ª—å–Ω—ã–π API —É –î–ü–°
5. ‚ûï –î–æ–±–∞–≤–∏—Ç—å –¥—Ä—É–≥–∏–µ –∏—Å—Ç–æ—á–Ω–∏–∫–∏ (zakon.rada.gov.ua, buhgalter911.com.ua)

---

## üîß –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è:

### –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:
```
aiohttp==3.9.3
beautifulsoup4==4.12.3
lxml==5.1.0
brotli==1.1.0  # –î–ª—è liga.net (Brotli compression)
openai==1.55.3
```

### Docker:
- ‚úÖ Backend —Å–æ–±—Ä–∞–Ω —Å –≤—Å–µ–º–∏ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—è–º–∏
- ‚úÖ PostgreSQL –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è –Ω–æ–≤–æ—Å—Ç–µ–π
- ‚úÖ Redis –¥–ª—è Celery –∏ –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏—è
- ‚úÖ Elasticsearch –¥–ª—è –ø–æ–∏—Å–∫–∞ (–≥–æ—Ç–æ–≤ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é)

### –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö:
- –¢–∞–±–ª–∏—Ü–∞: `news`
- –ü–æ–ª—è: title, url, source, categories, target_audience, summary, published_at
- –ò–Ω–¥–µ–∫—Å—ã: url (unique), source, categories
- –ú–∏–≥—Ä–∞—Ü–∏–∏: Alembic

---

## üìà –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å:

### –í—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è:
- **Minfin crawler**: ~10-15 —Å–µ–∫—É–Ω–¥ (–ø–∞—Ä—Å–∏–Ω–≥ 200 –Ω–æ–≤–æ—Å—Ç–µ–π)
- **Liga.net crawler**: ~5-10 —Å–µ–∫—É–Ω–¥ (–ø–∞—Ä—Å–∏–Ω–≥ 55 –Ω–æ–≤–æ—Å—Ç–µ–π)
- **OpenAI —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è**: ~20-40 —Å–µ–∫—É–Ω–¥ (–¥–ª—è 50-200 –Ω–æ–≤–æ—Å—Ç–µ–π)
- **–°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤ –ë–î**: ~1-2 —Å–µ–∫—É–Ω–¥—ã

**–û–±—â–µ–µ –≤—Ä–µ–º—è –ø–æ–ª–Ω–æ–≥–æ —Ü–∏–∫–ª–∞**: ~30-60 —Å–µ–∫—É–Ω–¥

### –†–µ—Å—É—Ä—Å—ã:
- CPU: ~20-30% –≤–æ –≤—Ä–µ–º—è –ø–∞—Ä—Å–∏–Ω–≥–∞
- RAM: ~200-300 MB
- –°–µ—Ç—å: ~1-2 MB –Ω–∞ –∏—Å—Ç–æ—á–Ω–∏–∫
- OpenAI API: ~0.01-0.02$ –∑–∞ –∑–∞–ø—Ä–æ—Å

---

## üéâ –ò—Ç–æ–≥:

**MVP –≥–æ—Ç–æ–≤!** üöÄ

- ‚úÖ **2 —Ä–∞–±–æ—Ç–∞—é—â–∏—Ö –∫—Ä–∞—É–ª–µ—Ä–∞** (minfin + liga.net)
- ‚úÖ **OpenAI —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è** –æ—Ç–ª–∏—á–Ω–æ —Ä–∞–±–æ—Ç–∞–µ—Ç
- ‚úÖ **9 —Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω—ã—Ö –Ω–æ–≤–æ—Å—Ç–µ–π** –≤ –ë–î
- ‚úÖ **Frontend –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è** –Ω–∞ –≥–ª–∞–≤–Ω–æ–º —ç–∫—Ä–∞–Ω–µ
- ‚úÖ **API endpoints** –¥–ª—è –≤—Å–µ—Ö –æ–ø–µ—Ä–∞—Ü–∏–π
- ‚úÖ **–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è** –ø–æ–ª–Ω–∞—è

**–°–ª–µ–¥—É—é—â–∏–π —à–∞–≥**: –î–æ–±–∞–≤–∏—Ç—å –∫—Ä–∞—É–ª–µ—Ä—ã –≤ Celery –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –∑–∞–ø—É—Å–∫–∞ –∫–∞–∂–¥—ã–µ 2 —á–∞—Å–∞! üîÑ

