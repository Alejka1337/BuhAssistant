# –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ Push-—É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π –Ω–∞ —Ä–µ–∞–ª—å–Ω–æ–º iOS —É—Å—Ç—Ä–æ–π—Å—Ç–≤–µ

## –ü—Ä–æ–±–ª–µ–º–∞
–ö–æ–º–∞–Ω–¥–∞ `npx expo run:ios --device` –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç —ç–º—É–ª—è—Ç–æ—Ä, –∞ push-—É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è —Ä–∞–±–æ—Ç–∞—é—Ç —Ç–æ–ª—å–∫–æ –Ω–∞ —Ñ–∏–∑–∏—á–µ—Å–∫–∏—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞—Ö.

## –†–µ—à–µ–Ω–∏—è

---

## ‚úÖ –°–ø–æ—Å–æ–± 1: Development Build —Å EAS (–†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)

### –®–∞–≥ 1: –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ EAS CLI

```bash
npm install -g eas-cli
```

### –®–∞–≥ 2: –í–æ–π–¥–∏—Ç–µ –≤ Expo –∞–∫–∫–∞—É–Ω—Ç

```bash
eas login
```

–ï—Å–ª–∏ –Ω–µ—Ç –∞–∫–∫–∞—É–Ω—Ç–∞, —Å–æ–∑–¥–∞–π—Ç–µ –Ω–∞ https://expo.dev

### –®–∞–≥ 3: –ù–∞—Å—Ç—Ä–æ–π—Ç–µ –ø—Ä–æ–µ–∫—Ç –¥–ª—è EAS

```bash
cd /Users/alejka1337/Desktop/buhassistant
eas build:configure
```

### –®–∞–≥ 4: –û–±–Ω–æ–≤–∏—Ç–µ app.json

–£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤ `app.json` –µ—Å—Ç—å:

```json
{
  "expo": {
    "name": "BuhAssistant",
    "slug": "buhassistant",
    "version": "1.0.0",
    "orientation": "portrait",
    "icon": "./assets/images/icon.png",
    "scheme": "buhassistant",
    "userInterfaceStyle": "automatic",
    "splash": {
      "image": "./assets/images/splash.png",
      "resizeMode": "contain",
      "backgroundColor": "#00bfa5"
    },
    "ios": {
      "supportsTablet": true,
      "bundleIdentifier": "com.yourname.buhassistant",
      "infoPlist": {
        "UIBackgroundModes": ["remote-notification"]
      }
    },
    "android": {
      "adaptiveIcon": {
        "foregroundImage": "./assets/images/adaptive-icon.png",
        "backgroundColor": "#ffffff"
      },
      "package": "com.yourname.buhassistant",
      "permissions": [
        "RECEIVE_BOOT_COMPLETED",
        "VIBRATE"
      ]
    },
    "plugins": [
      [
        "expo-notifications",
        {
          "icon": "./assets/images/icon.png",
          "color": "#00bfa5"
        }
      ]
    ],
    "extra": {
      "eas": {
        "projectId": "–≤–∞—à-project-id"
      }
    }
  }
}
```

### –®–∞–≥ 5: –°–æ–∑–¥–∞–π—Ç–µ Development Build

```bash
# –î–ª—è iOS (—Å–∏–º—É–ª—è—Ç–æ—Ä)
eas build --profile development --platform ios

# –î–ª—è iOS (—Ä–µ–∞–ª—å–Ω–æ–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ) - —Ç—Ä–µ–±—É–µ—Ç Apple Developer Account
eas build --profile development --platform ios --local
```

### –®–∞–≥ 6: –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ build –Ω–∞ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ

–ü–æ—Å–ª–µ —Å–±–æ—Ä–∫–∏:
1. –°–∫–∞—á–∞–π—Ç–µ `.ipa` —Ñ–∞–π–ª –∏–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ TestFlight
2. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –Ω–∞ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ
3. –î–æ–≤–µ—Ä—å—Ç–µ —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç—É —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞: Settings > General > Device Management

### –®–∞–≥ 7: –ó–∞–ø—É—Å—Ç–∏—Ç–µ dev server

```bash
npx expo start --dev-client
```

–¢–µ–ø–µ—Ä—å –º–æ–∂–µ—Ç–µ —Å–∫–∞–Ω–∏—Ä–æ–≤–∞—Ç—å QR-–∫–æ–¥ –∏ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å push!

---

## ‚úÖ –°–ø–æ—Å–æ–± 2: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Å–ø–∏—Å–∫–∞ —É—Å—Ç—Ä–æ–π—Å—Ç–≤

### –®–∞–≥ 1: –ü–æ–¥–∫–ª—é—á–∏—Ç–µ iPhone –∫ Mac

1. –ü–æ–¥–∫–ª—é—á–∏—Ç–µ iPhone —á–µ—Ä–µ–∑ –∫–∞–±–µ–ª—å
2. –†–∞–∑–±–ª–æ–∫–∏—Ä—É–π—Ç–µ iPhone
3. –ù–∞–∂–º–∏—Ç–µ "Trust" –∫–æ–≥–¥–∞ –ø–æ—è–≤–∏—Ç—Å—è –∑–∞–ø—Ä–æ—Å

### –®–∞–≥ 2: –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å–ø–∏—Å–æ–∫ —É—Å—Ç—Ä–æ–π—Å—Ç–≤

```bash
xcrun xctrace list devices
```

–í—ã —É–≤–∏–¥–∏—Ç–µ —á—Ç–æ-—Ç–æ –≤—Ä–æ–¥–µ:
```
== Devices ==
Dmitry's iPhone (14.5) (00008101-XXXXXXXXXXXXX)
iPhone 13 Simulator (15.0)
```

### –®–∞–≥ 3: –ó–∞–ø—É—Å—Ç–∏—Ç–µ –Ω–∞ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–º —É—Å—Ç—Ä–æ–π—Å—Ç–≤–µ

```bash
# –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∏–º—è —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞ –∏–∑ —Å–ø–∏—Å–∫–∞
npx expo run:ios --device "Dmitry's iPhone"

# –ò–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ UDID
npx expo run:ios --device 00008101-XXXXXXXXXXXXX
```

---

## ‚úÖ –°–ø–æ—Å–æ–± 3: Xcode (–î–ª—è –ø—Ä–æ–¥–≤–∏–Ω—É—Ç—ã—Ö)

### –®–∞–≥ 1: –û—Ç–∫—Ä–æ–π—Ç–µ –ø—Ä–æ–µ–∫—Ç –≤ Xcode

```bash
cd /Users/alejka1337/Desktop/buhassistant
npx expo prebuild
open ios/buhassistant.xcworkspace
```

### –®–∞–≥ 2: –ù–∞—Å—Ç—Ä–æ–π—Ç–µ Signing & Capabilities

1. –í—ã–±–µ—Ä–∏—Ç–µ –≤–∞—à –ø—Ä–æ–µ–∫—Ç –≤ –ª–µ–≤–æ–π –ø–∞–Ω–µ–ª–∏
2. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ "Signing & Capabilities"
3. –í—ã–±–µ—Ä–∏—Ç–µ –≤–∞—à Team (Apple Developer Account)
4. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ Bundle Identifier —É–Ω–∏–∫–∞–ª–µ–Ω

### –®–∞–≥ 3: –î–æ–±–∞–≤—å—Ç–µ Push Notifications capability

1. –ù–∞–∂–º–∏—Ç–µ "+ Capability"
2. –î–æ–±–∞–≤—å—Ç–µ "Push Notifications"
3. –î–æ–±–∞–≤—å—Ç–µ "Background Modes" –∏ –≤–∫–ª—é—á–∏—Ç–µ "Remote notifications"

### –®–∞–≥ 4: –í—ã–±–µ—Ä–∏—Ç–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ –∏ –∑–∞–ø—É—Å—Ç–∏—Ç–µ

1. –í –≤–µ—Ä—Ö–Ω–µ–π –ø–∞–Ω–µ–ª–∏ Xcode –≤—ã–±–µ—Ä–∏—Ç–µ –≤–∞—à–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ
2. –ù–∞–∂–º–∏—Ç–µ ‚ñ∂Ô∏è (Run) –∏–ª–∏ Cmd + R

---

## üîß –ù–∞—Å—Ç—Ä–æ–π–∫–∞ backend –¥–ª—è –ª–æ–∫–∞–ª—å–Ω–æ–π —Å–µ—Ç–∏

–ö–æ–≥–¥–∞ —Ç–µ—Å—Ç–∏—Ä—É–µ—Ç–µ –Ω–∞ —Ä–µ–∞–ª—å–Ω–æ–º —É—Å—Ç—Ä–æ–π—Å—Ç–≤–µ, –æ–Ω–æ –¥–æ–ª–∂–Ω–æ –ø–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è –∫ –≤–∞—à–µ–º—É backend.

### –®–∞–≥ 1: –£–∑–Ω–∞–π—Ç–µ IP –≤–∞—à–µ–≥–æ Mac

```bash
ifconfig | grep "inet " | grep -v 127.0.0.1
```

–ù–∞–ø—Ä–∏–º–µ—Ä: `192.168.1.100`

### –®–∞–≥ 2: –û–±–Ω–æ–≤–∏—Ç–µ API_URL –≤ constants/api.ts

```typescript
export const API_URL = __DEV__ 
  ? 'http://192.168.1.100:8000'  // –í–∞—à –ª–æ–∫–∞–ª—å–Ω—ã–π IP
  : 'https://your-production-api.com';
```

### –®–∞–≥ 3: –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ –≤ —Ç–æ–π –∂–µ Wi-Fi —Å–µ—Ç–∏

---

## üì± –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ Push-—É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π

### 1. –ó–∞–ø—É—Å—Ç–∏—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –Ω–∞ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–µ

### 2. –í–æ–π–¥–∏—Ç–µ –≤ —Å–∏—Å—Ç–µ–º—É

–ü—Ä–∏ –ª–æ–≥–∏–Ω–µ –¥–æ–ª–∂–µ–Ω –ø–æ—è–≤–∏—Ç—å—Å—è –∑–∞–ø—Ä–æ—Å –Ω–∞ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π.

### 3. –û—Ç–∫—Ä–æ–π—Ç–µ –ø—Ä–æ—Ñ–∏–ª—å ‚Üí –°–ø–æ–≤—ñ—â–µ–Ω–Ω—è

### 4. –ù–∞–∂–º–∏—Ç–µ "–ù–∞–¥—ñ—Å–ª–∞—Ç–∏ —Ç–µ—Å—Ç–æ–≤–µ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è"

–ß–µ—Ä–µ–∑ –Ω–µ—Å–∫–æ–ª—å–∫–æ —Å–µ–∫—É–Ω–¥ –¥–æ–ª–∂–Ω–æ –ø—Ä–∏–π—Ç–∏ push-—É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ! üéâ

---

## üêõ Troubleshooting

### "Build failed" –∏–ª–∏ "No devices found"

**–†–µ—à–µ–Ω–∏–µ:**
1. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ –ø–æ–¥–∫–ª—é—á–µ–Ω–æ –∏ —Ä–∞–∑–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω–æ
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ: `xcrun xctrace list devices`
3. –ü–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∏—Ç–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ –∏ Mac

### "Push token is null"

**–†–µ—à–µ–Ω–∏–µ:**
1. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤—ã –¥–∞–ª–∏ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–µ –Ω–∞ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ: Settings > App > Notifications
3. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ —É–¥–∞–ª–∏—Ç—å –∏ –ø–µ—Ä–µ—É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ

### "Certificate error" –∏–ª–∏ "Provisioning profile"

**–†–µ—à–µ–Ω–∏–µ:**
1. –ù—É–∂–µ–Ω Apple Developer Account ($99/–≥–æ–¥)
2. –ò–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ Free Developer Account (–æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è: 7 –¥–Ω–µ–π, –Ω—É–∂–Ω–æ –ø–µ—Ä–µ—É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞—Ç—å)
3. –í Xcode: Preferences > Accounts > –î–æ–±–∞–≤—å—Ç–µ –≤–∞—à Apple ID

### Backend –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω —Å —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞

**–†–µ—à–µ–Ω–∏–µ:**
1. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ –∏ Mac –≤ –æ–¥–Ω–æ–π Wi-Fi —Å–µ—Ç–∏
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ IP –∞–¥—Ä–µ—Å: `ifconfig`
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ firewall –Ω–∞ Mac: System Preferences > Security > Firewall
4. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ: `curl http://192.168.1.100:8000/api/health` —Å —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞ —á–µ—Ä–µ–∑ Safari

---

## üìù Checklist –¥–ª—è —É—Å–ø–µ—à–Ω–æ–≥–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

- [ ] iPhone –ø–æ–¥–∫–ª—é—á–µ–Ω –∫ Mac —á–µ—Ä–µ–∑ –∫–∞–±–µ–ª—å
- [ ] iPhone —Ä–∞–∑–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω –∏ –¥–æ–≤–µ—Ä—è–µ—Ç –∫–æ–º–ø—å—é—Ç–µ—Ä—É
- [ ] –£—Å—Ç—Ä–æ–π—Å—Ç–≤–æ –∏ Mac –≤ –æ–¥–Ω–æ–π Wi-Fi —Å–µ—Ç–∏
- [ ] Backend –∑–∞–ø—É—â–µ–Ω –∏ –¥–æ—Å—Ç—É–ø–µ–Ω –ø–æ –ª–æ–∫–∞–ª—å–Ω–æ–º—É IP
- [ ] `API_URL` –æ–±–Ω–æ–≤–ª–µ–Ω –Ω–∞ –ª–æ–∫–∞–ª—å–Ω—ã–π IP
- [ ] –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ –Ω–∞ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ
- [ ] –†–∞–∑—Ä–µ—à–µ–Ω–∏–µ –Ω–∞ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª–µ–Ω–æ
- [ ] Push token –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω (–ø—Ä–æ–≤–µ—Ä—å—Ç–µ –≤ –ë–î –∏–ª–∏ –ª–æ–≥–∞—Ö)

---

## üöÄ –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è

–î–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –Ω–∞ MVP —ç—Ç–∞–ø–µ:

1. **–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ EAS Build** —Å development profile
2. –°–æ–∑–¥–∞–π—Ç–µ –æ–¥–∏–Ω —Ä–∞–∑ build –∏ —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–π—Ç–µ —á–µ—Ä–µ–∑ TestFlight
3. –ó–∞–ø—É—Å–∫–∞–π—Ç–µ `npx expo start --dev-client` –¥–ª—è hot reload

–≠—Ç–æ –∏–∑–±–∞–≤–∏—Ç –æ—Ç –ø–æ—Å—Ç–æ—è–Ω–Ω–æ–π –ø–µ—Ä–µ—Å–±–æ—Ä–∫–∏ —á–µ—Ä–µ–∑ Xcode!

---

## üìö –ü–æ–ª–µ–∑–Ω—ã–µ —Å—Å—ã–ª–∫–∏

- [Expo Push Notifications](https://docs.expo.dev/push-notifications/overview/)
- [EAS Build](https://docs.expo.dev/build/introduction/)
- [Testing on Device](https://docs.expo.dev/guides/testing-on-devices/)
- [Expo Push Notification Tool](https://expo.dev/notifications) - –¥–ª—è —Ä—É—á–Ω–æ–≥–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

